{"ast":null,"code":"import _slicedToArray from\"/home/isaac/Documents/Fullstack/deployment/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Link,useSearchParams,useNavigate}from'react-router-dom';import{Form,Button,Row,Col}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import Loader from\"../components/Loader\";import Message from\"../components/Message\";import FormContainer from\"../components/FormContainer\";import{login}from'../actions/userActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoginScreen(_ref){var location=_ref.location,history=_ref.history;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var dispatch=useDispatch();var _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,1),searchParams=_useSearchParams2[0];var redirect=location.search?location.search.split('=')[1]:'/';// const redirect = searchParams.redirect ? searchParams.get.split('='):'/'\nvar userLogin=useSelector(function(state){return state.userLogin;});var error=userLogin.error,loading=userLogin.loading,userInfo=userLogin.userInfo;var navigate=useNavigate();useEffect(function(){if(userInfo){navigate(redirect);}},[userInfo,redirect]);var submitHandler=function submitHandler(e){e.preventDefault();dispatch(login(email,password));};return/*#__PURE__*/_jsxs(FormContainer,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Sign In\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"email\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email Address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter Email \",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"password\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Enter Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",children:\"Sign In\"})]}),/*#__PURE__*/_jsx(Row,{className:\"py-3\",children:/*#__PURE__*/_jsxs(Col,{children:[\"New Customer? \",/*#__PURE__*/_jsx(Link,{to:redirect?\"/register?redirect= \".concat(redirect):'/register'// to='/register'\n,children:\"Register\"})]})})]});}export default LoginScreen;","map":{"version":3,"sources":["/home/isaac/Documents/Fullstack/deployment/frontend/src/screens/LoginScreen.js"],"names":["React","useState","useEffect","Link","useSearchParams","useNavigate","Form","Button","Row","Col","useDispatch","useSelector","Loader","Message","FormContainer","login","LoginScreen","location","history","email","setEmail","password","setPassword","dispatch","searchParams","redirect","search","split","userLogin","state","error","loading","userInfo","navigate","submitHandler","e","preventDefault","target","value"],"mappings":"yIAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAuBC,SAAvB,KAAuC,OAAvC,CACA,OAAQC,IAAR,CAAaC,eAAb,CAA6BC,WAA7B,KAAgD,kBAAhD,CACA,OAASC,IAAT,CAAcC,MAAd,CAAqBC,GAArB,CAAyBC,GAAzB,KAAoC,iBAApC,CACA,OAASC,WAAT,CAAqBC,WAArB,KAAwC,aAAxC,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,MAAOC,CAAAA,aAAP,KAA0B,6BAA1B,CACA,OAASC,KAAT,KAAsB,wBAAtB,C,wFAEA,QAASC,CAAAA,WAAT,MAAyC,IAAnBC,CAAAA,QAAmB,MAAnBA,QAAmB,CAAVC,OAAU,MAAVA,OAAU,CACrC,cAAyBjB,QAAQ,CAAC,EAAD,CAAjC,wCAAOkB,KAAP,eAAaC,QAAb,eACA,eAA+BnB,QAAQ,CAAC,EAAD,CAAvC,yCAAOoB,QAAP,eAAgBC,WAAhB,eACA,GAAMC,CAAAA,QAAQ,CAAGb,WAAW,EAA5B,CACA,qBAAuBN,eAAe,EAAtC,sDAAOoB,YAAP,sBACA,GAAMC,CAAAA,QAAQ,CAAGR,QAAQ,CAACS,MAAT,CAAkBT,QAAQ,CAACS,MAAT,CAAgBC,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAlB,CAAgD,GAAjE,CACA;AACA,GAAMC,CAAAA,SAAS,CAAGjB,WAAW,CAAC,SAAAkB,KAAK,QAAEA,CAAAA,KAAK,CAACD,SAAR,EAAN,CAA7B,CACA,GAAOE,CAAAA,KAAP,CAAiCF,SAAjC,CAAOE,KAAP,CAAaC,OAAb,CAAiCH,SAAjC,CAAaG,OAAb,CAAqBC,QAArB,CAAiCJ,SAAjC,CAAqBI,QAArB,CACA,GAAMC,CAAAA,QAAQ,CAAG5B,WAAW,EAA5B,CACAH,SAAS,CAAC,UAAI,CACV,GAAG8B,QAAH,CAAY,CACRC,QAAQ,CAACR,QAAD,CAAR,CACH,CACJ,CAJQ,CAIP,CAACO,QAAD,CAAUP,QAAV,CAJO,CAAT,CAKA,GAAMS,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,CAAD,CAAM,CACxBA,CAAC,CAACC,cAAF,GACAb,QAAQ,CAACR,KAAK,CAACI,KAAD,CAAOE,QAAP,CAAN,CAAR,CACH,CAHD,CAIF,mBACE,MAAC,aAAD,yBACI,+BADJ,cAEI,MAAC,IAAD,EAAM,QAAQ,CAAEa,aAAhB,wBACI,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,OAAtB,wBACI,KAAC,IAAD,CAAM,KAAN,4BADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EACI,IAAI,CAAC,OADT,CAEI,WAAW,CAAC,cAFhB,CAGI,KAAK,CAAEf,KAHX,CAII,QAAQ,CAAE,kBAACgB,CAAD,QAAKf,CAAAA,QAAQ,CAACe,CAAC,CAACE,MAAF,CAASC,KAAV,CAAb,EAJd,EAFJ,GADJ,cAYI,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,UAAtB,wBACI,KAAC,IAAD,CAAM,KAAN,uBADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EACI,IAAI,CAAC,UADT,CAEI,WAAW,CAAC,gBAFhB,CAGI,KAAK,CAAEjB,QAHX,CAII,QAAQ,CAAE,kBAACc,CAAD,QAAKb,CAAAA,WAAW,CAACa,CAAC,CAACE,MAAF,CAASC,KAAV,CAAhB,EAJd,EAFJ,GAZJ,cAsBI,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAC,SAA9B,qBAtBJ,GAFJ,cA0BI,KAAC,GAAD,EAAK,SAAS,CAAC,MAAf,uBACI,MAAC,GAAD,0CACkB,KAAC,IAAD,EACV,EAAE,CAAEb,QAAQ,+BAAyBA,QAAzB,EAAoC,WAChD;AAFU,sBADlB,GADJ,EA1BJ,GADF,CAuCD,CAED,cAAeT,CAAAA,WAAf","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport {Link,useSearchParams,useNavigate } from 'react-router-dom'\nimport { Form,Button,Row,Col } from 'react-bootstrap'\nimport { useDispatch,useSelector } from 'react-redux'\nimport Loader from \"../components/Loader\";\nimport Message from \"../components/Message\";\nimport FormContainer from \"../components/FormContainer\";\nimport { login } from '../actions/userActions'\n\nfunction LoginScreen({location,history}) {\n    const [email,setEmail] = useState('')\n    const [password,setPassword] = useState('')\n    const dispatch = useDispatch()\n    const [searchParams] = useSearchParams();\n    const redirect = location.search ? location.search.split('=')[1]:'/'\n    // const redirect = searchParams.redirect ? searchParams.get.split('='):'/'\n    const userLogin = useSelector(state=>state.userLogin)\n    const {error,loading,userInfo} = userLogin\n    const navigate = useNavigate();\n    useEffect(()=>{\n        if(userInfo){\n            navigate(redirect)\n        }\n    },[userInfo,redirect])\n    const submitHandler = (e) =>{\n        e.preventDefault()\n        dispatch(login(email,password))\n    }\n  return (\n    <FormContainer>\n        <h1>Sign In</h1>\n        <Form onSubmit={submitHandler}>\n            <Form.Group controlId='email'>\n                <Form.Label>Email Address</Form.Label>\n                <Form.Control\n                    type='email'\n                    placeholder='Enter Email '\n                    value={email}\n                    onChange={(e)=>setEmail(e.target.value)}\n                >\n                </Form.Control>\n            </Form.Group>\n\n            <Form.Group controlId='password'>\n                <Form.Label>Password</Form.Label>\n                <Form.Control\n                    type='password'\n                    placeholder='Enter Password'\n                    value={password}\n                    onChange={(e)=>setPassword(e.target.value)}\n                >\n                </Form.Control>\n            </Form.Group>\n            <Button type='submit' variant='primary'>Sign In</Button>\n        </Form>\n        <Row className='py-3'>\n            <Col>\n                New Customer? <Link\n                    to={redirect ?`/register?redirect= ${redirect}`:'/register'}\n                    // to='/register'\n                >\n                Register\n                </Link>\n            </Col>\n        </Row>\n    </FormContainer>\n  )\n}\n\nexport default LoginScreen"]},"metadata":{},"sourceType":"module"}